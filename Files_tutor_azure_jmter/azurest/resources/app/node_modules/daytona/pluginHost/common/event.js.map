{"version":3,"sources":["../pluginHost/common/event.ts"],"names":[],"mappings":"AAAA;;4DAE4D;AAC5D,YAAY,CAAC;;AAyBb;IAAA;QACW,SAAI,GAAG,CAAC,CAAC;QACT,oBAAe,GAAG,CAAC,CAAC;QACpB,cAAS,GAAG,CAAC,CAAC;QACd,mBAAc,GAAG,CAAC,CAAC;IA2B9B,CAAC;IAfU,+BAAe,GAAtB;QACI,4BAA4B;IAChC,CAAC;IAEM,wCAAwB,GAA/B;QACI,4BAA4B;IAChC,CAAC;IAED,sBAAW,mCAAgB;aAA3B;YACI,MAAM,CAAC,IAAI,CAAC,qBAAqB,CAAC;QACtC,CAAC;;;OAAA;IAEM,8BAAc,GAArB;QACI,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;IACtC,CAAC;IACL,YAAC;AAAD,CA/BA,AA+BC,IAAA;AA/BY,sBAAK;AAiClB;IAAA;IA6CA,CAAC;IA1CU,sCAAgB,GAAvB,UAAwB,IAAY,EAAE,QAAwB;QAC1D,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,IAAI,EAClC,CAAC;QACF,IAAI,cAAc,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;QACzE,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;YACxD,IAAI,CAAC,GAAG,cAAc,CAAC,CAAC,CAAC,CAAC;YAC1B,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,KAAK,QAAQ,CAAC,CAAC,CAAC;gBAC1B,MAAM,CAAC;YACX,CAAC;QACL,CAAC;QACD,cAAc,CAAC,IAAI,CAAC;YAChB,QAAQ,EAAE,QAAQ;SACrB,CAAC,CAAC;IACP,CAAC;IACM,yCAAmB,GAA1B,UAA2B,IAAY,EAAE,QAAwB;QAC7D,IAAI,SAAS,GAAG,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACvD,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;YACZ,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;gBACnD,IAAI,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;gBACrB,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,KAAK,QAAQ,CAAC,CAAC,CAAC;oBAC1B,SAAS,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;oBACvB,EAAE,CAAC,CAAC,SAAS,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;wBACzB,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;oBAChC,CAAC;oBACD,KAAK,CAAC;gBACV,CAAC;YACL,CAAC;QACL,CAAC;IACL,CAAC;IAEM,mCAAa,GAApB,UAAqB,IAAY,EAAE,QAAe;QAC9C,IAAI,SAAS,GAAG,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACvD,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;YACZ,IAAI,UAAU,GAAG,QAAQ,CAAC;YAC1B,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,SAAS,CAAC,MAAM,CAAC,CAAC;YACjD,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;gBACnD,SAAS,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;YAC5C,CAAC;YACD,MAAM,CAAC,UAAU,CAAC,gBAAgB,IAAI,KAAK,CAAC;QAChD,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IACL,kBAAC;AAAD,CA7CA,AA6CC,IAAA;AA7CY,kCAAW","file":"common/event.js","sourcesContent":["/*---------------------------------------------------------\r\n * Copyright (C) Microsoft Corporation. All rights reserved.\r\n *--------------------------------------------------------*/\r\n\"use strict\";\r\nexport interface IEventListener {\r\n    (source: IEventTarget, event: Event): void;\r\n}\r\n\r\nexport interface IEvent {\r\n    bubbles: boolean;\r\n    cancelable: boolean;\r\n    currentTarget: any;\r\n    defaultPrevented: boolean;\r\n    eventPhase: number;\r\n    target: any;\r\n    timeStamp: number;\r\n    trusted: boolean;\r\n    type: string;\r\n    stopPropagation(): void;\r\n    preventDefault(): void;\r\n    stopImmediatePropagation(): void;\r\n}\r\n\r\nexport interface IEventTarget {\r\n    addEventListener(type: string, listener: IEventListener): void;\r\n    removeEventListener(type: string, listener: IEventListener): void;\r\n}\r\n\r\nexport class Event implements IEvent {\r\n    public NONE = 0;\r\n    public CAPTURING_PHASE = 1;\r\n    public AT_TARGET = 2;\r\n    public BUBBLING_PHASE = 3;\r\n\r\n    private _preventDefaultCalled: boolean;\r\n    public currentTarget: any;\r\n    public bubbles: boolean;\r\n    public cancelable: boolean;\r\n    public eventPhase: number;\r\n    public target: any;\r\n    public timeStamp: number;\r\n    public trusted: boolean;\r\n    public type: string;\r\n\r\n    public stopPropagation(): void {\r\n        // implemented in subclasses\r\n    }\r\n\r\n    public stopImmediatePropagation(): void {\r\n        // implemented in subclasses\r\n    }\r\n\r\n    public get defaultPrevented() {\r\n        return this._preventDefaultCalled;\r\n    }\r\n\r\n    public preventDefault(): void {\r\n        this._preventDefaultCalled = true;\r\n    }\r\n}\r\n\r\nexport class EventTarget implements IEventTarget {\r\n    public listeners: { [type: string]: { listener: IEventListener; }[] };\r\n\r\n    public addEventListener(type: string, listener: IEventListener): void {\r\n        this.listeners = this.listeners || {\r\n        };\r\n        var eventListeners = (this.listeners[type] = this.listeners[type] || []);\r\n        for (var i = 0, len = eventListeners.length; i < len; i++) {\r\n            var l = eventListeners[i];\r\n            if (l.listener === listener) {\r\n                return;\r\n            }\r\n        }\r\n        eventListeners.push({\r\n            listener: listener\r\n        });\r\n    }\r\n    public removeEventListener(type: string, listener: IEventListener): void {\r\n        var listeners = this.listeners && this.listeners[type];\r\n        if (listeners) {\r\n            for (var i = 0, len = listeners.length; i < len; i++) {\r\n                var l = listeners[i];\r\n                if (l.listener === listener) {\r\n                    listeners.splice(i, 1);\r\n                    if (listeners.length === 0) {\r\n                        delete this.listeners[type];\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public dispatchEvent(type: string, eventArg: Event): boolean {\r\n        var listeners = this.listeners && this.listeners[type];\r\n        if (listeners) {\r\n            var eventValue = eventArg;\r\n            listeners = listeners.slice(0, listeners.length);\r\n            for (var i = 0, len = listeners.length; i < len; i++) {\r\n                listeners[i].listener(this, eventValue);\r\n            }\r\n            return eventValue.defaultPrevented || false;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n"],"sourceRoot":"/source/"}